<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="container">
     <h1 class="text-center text-info mt-3">sign up</h1>
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">name</label>
                <input type="text" class="form-control" id="uname" aria-describedby="emailHelp">
                <small></small>
              </div>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Email address</label>
              <input type="email" class="form-control" id="uemail" aria-describedby="emailHelp">
              <small></small>
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">Password</label>
              <input type="text" class="form-control" id="upassword">
              <small></small>
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">confrim Password</label>
                <input type="text" class="form-control" id="ucpass">
                <small></small>
              </div>

              <label class="form-check-label" for="flexRadioDefault1">
              gender
              </label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault1" value="male">
                <label class="form-check-label" for="flexRadioDefault1">
                   male
                  </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault2" value="female">
                <label class="form-check-label" for="flexRadioDefault2">
                female
                </label>
              </div>
              <label class="form-check-label" for="flexRadioDefault1">
                skills
               </label>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="html" id="flexCheckDisabled" >
                <label class="form-check-label" for="flexCheckDisabled">
               html
                </label>
              </div>
            
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="css" id="flexCheckCheckedDisabled" >
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                 css
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="javascript" id="flexCheckCheckedDisabled" >
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                 javascript
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="php" id="flexCheckCheckedDisabled" >
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                 php
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="laravel" id="flexCheckCheckedDisabled" >
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                 laravel
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="bootstrap" id="flexCheckCheckedDisabled" >
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                 bootstrap
                </label>
              </div>
            <button type="submit" class="btn btn-primary mt-3" id="btn">Submit</button>
      
    </div>
    <script>
        // let fun = a=>document.write(a);
        // fun(4);

        $("#uname").keyup(function(){
          let uname =$("#uname").val();
          
          let regexName = /^[A-Za-z\s]{3,15}$/;
          if(!regexName.test(uname)){
            $(this).css("border","2px solid red");
            $(this).next("small").show().text("invalid data format").css({
              "color":"red",
              "font-weight":"bold"
            })
          }else{
            $(this).css("border","2px solid green");
            $(this).next("small").hide();
          }

        })
        
        $("#uemail").keyup(function(){
          let uemail =$("#uemail").val();
          let regexEmail = /^[\w,.]{1,}[@][a-z]{4,7}[.][a-z]{2,}$/;
          if(!regexEmail.test(uemail)){
            $(this).css("border","2px solid red");
            $(this).next("small").show().text("invalid email format").css({
              "color":"red",
              "font-weight":"bold"
            })
          }else{
            $(this).css("border","2px solid green");
            $(this).next("small").hide();
          }

        })
        $("#upassword").keyup(function(){
          let upassword =$("#upassword").val();
          let regexPassword = /^[\w]{5,}[@][\w]{1,}$/;
          if(!regexPassword.test(upassword)){
            $(this).css("border","2px solid red");
            $(this).next("small").show().text("invalid email format").css({
              "color":"red",
              "font-weight":"bold"
            })
          }else{
            $(this).css("border","2px solid green");
            $(this).next("small").hide();
          }

        })
        function emptyInput(id){
        if($(id).val()==""){
          $(this).css("border","2px solid red");
            $(this).next("small").show().text("this is field is required to fill").css({
              "color":"red",
              "font-weight":"bold"
            })
        }
        }
       document.querySelector("#btn").addEventListener("click",()=>{
        let un = $("#uname").val();
        let ue = $("#uemail").val();
        let up = $("#upassword").val();
        let ucp = $("#ucpass").val();
        let ur = $("input[name='gender']:checked").val();
// alert(ur);
let uc = $("input[type='checkbox']:checked");
let x ="";

uc.each(function(){
    x+=$(this).val()+" ";
});
// alert("hello");
// alert(x)
if(un =="" && ue=="" && up=="" && ucp=="" ){
emptyInput("#uname");
emptyInput("#uemail");
emptyInput("#upassword");
emptyInput("#ucpass");
}else if(un  && ue && (up==ucp)){

let obj ={
    name:un,
    email:ue,
    password:up,
    gender:ur,
    skill:x
}

    if(localStorage.getItem("userDetail")==null){
        localStorage.setItem("userDetail","[]");
    }
    // console.log();
let oldData = JSON.parse(localStorage.getItem("userDetail"))
console.log(oldData);
oldData.push(obj);
localStorage.setItem("userDetail",JSON.stringify(oldData));
alert("data submit");
location.assign("login.html");
}






})
    </script>
</body>
</html>